<div class="search-container" [formGroup]="searchForm">
  <div class="form-row stations-row">
    <!-- From Station -->
    <div class="station-wrapper">
      <app-station-autocomplete
        [control]="fromStationControl"
        [stations]="stations"
        [label]="'From'"
        [placeholder]="'From Station'"
        class="form-field"
      >
      </app-station-autocomplete>
      <mat-error *ngIf="fromStationError" class="station-error">
        {{ fromStationError }}
      </mat-error>
    </div>

    <!-- Swap Button -->
    <button
      mat-icon-button
      class="swap-button"
      (click)="swapStations()"
      aria-label="Swap stations"
    >
      <mat-icon>swap_horiz</mat-icon>
    </button>

    <!-- To Station -->
    <div class="station-wrapper">
      <app-station-autocomplete
        [control]="toStationControl"
        [stations]="stations"
        [label]="'To'"
        [placeholder]="'To Station'"
        [showSwapButton]="false"
        class="form-field"
      >
      </app-station-autocomplete>
      <mat-error *ngIf="toStationError" class="station-error">
        {{ toStationError }}
      </mat-error>
    </div>
  </div>

  <div class="form-row details-row">
    <!-- Journey Date -->
    <app-date-picker
      [control]="journeyDateControl"
      [label]="'Journey Date'"
      [placeholder]="'Choose a date'"
      [minDate]="minDate"
      [maxDate]="maxDate"
    >
    </app-date-picker>
  </div>

  <div class="form-row class-search-row">
    <app-class-quota-selector
      [classControl]="travelClassControl"
      [quotaControl]="quotaControl"
      [travelClasses]="travelClasses"
      [quotas]="quotas"
      [classLabel]="isAdvancedSearch ? 'Travel Class *' : 'Travel Class'"
      [quotaLabel]="'Quota'"
      [isClassRequired]="isAdvancedSearch"
    >
    </app-class-quota-selector>
    <mat-error *ngIf="travelClassError" class="class-error">
      {{ travelClassError }}
    </mat-error>
  </div>

  <div class="form-row options-row">
    <!-- Additional Options -->
    <mat-checkbox formControlName="flexibleWithDate">
      Flexible with date
    </mat-checkbox>
    <mat-checkbox formControlName="divyaangConcession">
      Person with disability concession
    </mat-checkbox>
    <mat-checkbox formControlName="railwayPass">
      Railway pass concession
    </mat-checkbox>
  </div>

  <div class="form-row button-row">
    <button
      mat-raised-button
      color="primary"
      class="search-button"
      [disabled]="!canSubmit()"
      (click)="onSubmit()"
    >
      Search
    </button>
    <button
      mat-stroked-button
      color="accent"
      class="advanced-search-button"
      [class.active]="isAdvancedSearch"
      [disabled]="!canSubmitAdvanced()"
      (click)="onAdvancedSubmit()"
    >
      Advanced Search
    </button>
  </div>
</div>
