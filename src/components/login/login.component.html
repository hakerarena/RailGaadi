<div class="login-container">
  <div class="login-wrapper">
    <!-- Header Section -->
    <div class="login-header">
      <div class="brand-section">
        <mat-icon class="train-icon">train</mat-icon>
        <div class="brand-text">
          <h1>IRCTC Login</h1>
          <p>Welcome back! Please sign in to your account</p>
        </div>
      </div>
    </div>

    <!-- Login Form Card -->
    <mat-card class="login-card">
      <mat-card-header class="card-header">
        <mat-icon mat-card-avatar class="login-avatar">account_circle</mat-icon>
        <mat-card-title>Sign In</mat-card-title>
        <mat-card-subtitle
          >Enter your credentials to access your account</mat-card-subtitle
        >
      </mat-card-header>

      <mat-card-content class="card-content">
        <form
          [formGroup]="loginForm"
          (ngSubmit)="onSubmit()"
          class="login-form"
        >
          <!-- Username Field -->
          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Email or Mobile Number</mat-label>
            <input
              matInput
              formControlName="username"
              placeholder="Enter your email or mobile number"
              autocomplete="username"
            />
            <mat-icon matSuffix>person</mat-icon>
            <mat-error *ngIf="getFieldError('username')">
              {{ getFieldError("username") }}
            </mat-error>
            <mat-hint
              >Use your registered email or 10-digit mobile number</mat-hint
            >
          </mat-form-field>

          <!-- Password Field -->
          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Password</mat-label>
            <input
              matInput
              [type]="hidePassword ? 'password' : 'text'"
              formControlName="password"
              placeholder="Enter your password"
              autocomplete="current-password"
            />
            <button
              mat-icon-button
              matSuffix
              type="button"
              (click)="togglePasswordVisibility()"
              [attr.aria-label]="'Hide password'"
              [attr.aria-pressed]="hidePassword"
            >
              <mat-icon>{{
                hidePassword ? "visibility_off" : "visibility"
              }}</mat-icon>
            </button>
            <mat-error *ngIf="getFieldError('password')">
              {{ getFieldError("password") }}
            </mat-error>
          </mat-form-field>

          <!-- Remember Me & Forgot Password -->
          <div class="form-options">
            <mat-checkbox
              formControlName="rememberMe"
              class="remember-checkbox"
            >
              Remember me
            </mat-checkbox>
            <button
              type="button"
              mat-button
              color="primary"
              class="forgot-password-btn"
              (click)="onForgotPassword()"
            >
              Forgot Password?
            </button>
          </div>

          <!-- Login Button -->
          <button
            mat-raised-button
            color="primary"
            type="submit"
            class="login-btn"
            [disabled]="!loginForm.valid || isLoading"
          >
            <mat-spinner
              *ngIf="isLoading"
              diameter="20"
              class="login-spinner"
            ></mat-spinner>
            <span *ngIf="!isLoading">Sign In</span>
            <span *ngIf="isLoading">Signing In...</span>
          </button>

          <!-- Demo Quick Login -->
          <button
            type="button"
            mat-stroked-button
            color="accent"
            class="demo-login-btn"
            (click)="quickLogin()"
            [disabled]="isLoading"
          >
            <mat-icon>flash_on</mat-icon>
            Quick Demo Login
          </button>
        </form>
      </mat-card-content>

      <mat-divider></mat-divider>

      <!-- Sign Up Section -->
      <mat-card-actions class="card-actions">
        <div class="signup-section">
          <span>Don't have an account?</span>
          <button
            mat-button
            color="primary"
            (click)="onSignUp()"
            class="signup-btn"
          >
            Create Account
          </button>
        </div>
      </mat-card-actions>
    </mat-card>

    <!-- Demo Credentials Info -->
    <mat-card class="demo-info-card">
      <mat-card-content>
        <div class="demo-info">
          <mat-icon class="info-icon">info</mat-icon>
          <div class="demo-text">
            <h4>Demo Credentials</h4>
            <p><strong>Email:</strong> user&#64;irctc.com</p>
            <p><strong>Password:</strong> password123</p>
            <small
              >Use these credentials for testing, or click "Quick Demo Login"
              above.</small
            >
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Security Notice -->
    <div class="security-notice">
      <mat-icon class="security-icon">security</mat-icon>
      <p>
        Your login information is secure and encrypted. By signing in, you agree
        to our Terms of Service and Privacy Policy.
      </p>
    </div>
  </div>
</div>
