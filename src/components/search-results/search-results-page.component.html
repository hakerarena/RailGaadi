<div class="search-results-page">
  <app-page-header
    [title]="constants.SEARCH_RESULTS.AVAILABLE_TRAINS"
    [newSearchButtonText]="constants.BUTTONS.NEW_SEARCH"
    (newSearch)="onNewSearch()"
    [additionalContent]="searchSummaryTemplate"
  >
  </app-page-header>

  <ng-template #searchSummaryTemplate>
    <app-search-summary [searchCriteria]="searchCriteria!"></app-search-summary>
  </ng-template>

  @if (isSearching) {
  <div class="loading-section">
    <app-loading-spinner message="Searching for trains..." size="large">
    </app-loading-spinner>
  </div>
  } @if (showResults && searchResults.length > 0) {
  <div class="results-section">
    <div class="container">
      <app-train-search-results
        [searchResults]="searchResults"
        [isFlexibleSearch]="searchCriteria?.flexibleWithDate || false"
        [searchDate]="searchCriteria?.journeyDate || null"
      >
      </app-train-search-results>
    </div>
  </div>
  } @if (showNoResults) {
  <app-no-results
    [title]="constants.SEARCH_RESULTS.NO_TRAINS_FOUND"
    message="Sorry, no trains were found for the selected route and date."
    [actionButtonText]="constants.BUTTONS.TRY_DIFFERENT_SEARCH"
    (actionButtonClick)="onNewSearch()"
  >
  </app-no-results>
  }
</div>
