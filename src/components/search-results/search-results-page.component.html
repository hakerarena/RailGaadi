<div class="search-results-page">
  <!-- Page Header -->
  <app-page-header
    [title]="constants.SEARCH_RESULTS.AVAILABLE_TRAINS"
    [newSearchButtonText]="constants.BUTTONS.NEW_SEARCH"
    (newSearch)="onNewSearch()"
    [additionalContent]="searchSummaryTemplate"
  >
  </app-page-header>

  <!-- Search Summary Template -->
  <ng-template #searchSummaryTemplate>
    <app-search-summary [searchCriteria]="searchCriteria!"></app-search-summary>
  </ng-template>

  <!-- Loading State -->
  <div class="loading-section" *ngIf="isSearching">
    <app-loading-spinner message="Searching for trains..." size="large">
    </app-loading-spinner>
  </div>

  <!-- Search Results -->
  <div class="results-section" *ngIf="showResults && searchResults.length > 0">
    <div class="container">
      <app-train-search-results
        [searchResults]="searchResults"
        [isFlexibleSearch]="searchCriteria?.flexibleWithDate || false"
        [searchDate]="searchCriteria?.journeyDate || null"
      >
      </app-train-search-results>
    </div>
  </div>

  <!-- No Results Message -->
  <app-no-results
    *ngIf="showNoResults"
    [title]="constants.SEARCH_RESULTS.NO_TRAINS_FOUND"
    message="Sorry, no trains were found for the selected route and date."
    [actionButtonText]="constants.BUTTONS.TRY_DIFFERENT_SEARCH"
    (actionButtonClick)="onNewSearch()"
  >
  </app-no-results>
</div>
